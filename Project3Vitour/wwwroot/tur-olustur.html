<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Yeni Tur Olu≈ütur</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>

  <style>
    :root {
      --brand:       #1a3c5e;
      --brand-light: #eef3f8;
      --accent:      #e8a045;
      --accent-pale: #fdf3e3;
      --success:     #198754;
      --radius:      14px;
      --sidebar-w:   240px;
    }

    * { box-sizing: border-box; }

    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      background: #f0f4f8;
      color: #1e2d3d;
      min-height: 100vh;
    }

    /* ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ */
    .sidebar {
      position: fixed; top: 0; left: 0;
      width: var(--sidebar-w);
      height: 100vh;
      background: var(--brand);
      display: flex; flex-direction: column;
      z-index: 100;
      box-shadow: 4px 0 24px rgba(0,0,0,.15);
    }
    .sidebar-logo {
      padding: 28px 24px 20px;
      border-bottom: 1px solid rgba(255,255,255,.1);
    }
    .sidebar-logo span {
      font-size: 1.2rem; font-weight: 700; color: #fff; letter-spacing: -.3px;
    }
    .sidebar-logo span em { color: var(--accent); font-style: normal; }
    .sidebar-nav { padding: 16px 12px; flex: 1; overflow-y: auto; }
    .nav-label {
      font-size: .68rem; font-weight: 700; letter-spacing: 1px;
      color: rgba(255,255,255,.4); text-transform: uppercase;
      padding: 8px 12px 6px;
    }
    .nav-link-item {
      display: flex; align-items: center; gap: 10px;
      padding: 10px 14px; border-radius: 10px;
      color: rgba(255,255,255,.7); font-size: .88rem; font-weight: 500;
      text-decoration: none; margin-bottom: 2px;
      transition: background .18s, color .18s;
    }
    .nav-link-item i { font-size: 1rem; }
    .nav-link-item:hover  { background: rgba(255,255,255,.08); color: #fff; }
    .nav-link-item.active { background: rgba(232,160,69,.2); color: var(--accent); }
    .sidebar-footer {
      padding: 16px 20px; border-top: 1px solid rgba(255,255,255,.1);
      color: rgba(255,255,255,.5); font-size: .8rem;
    }

    /* ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ */
    .main-wrap {
      margin-left: var(--sidebar-w);
      min-height: 100vh;
      display: flex; flex-direction: column;
    }

    /* ‚îÄ‚îÄ TOP BAR ‚îÄ‚îÄ */
    .topbar {
      background: #fff;
      border-bottom: 1px solid #e4ecf4;
      padding: 16px 32px;
      display: flex; align-items: center; justify-content: space-between;
      position: sticky; top: 0; z-index: 90;
    }
    .topbar-title { font-size: 1.05rem; font-weight: 700; color: var(--brand); }
    .topbar-breadcrumb {
      font-size: .78rem; color: #8fa3ba; margin-top: 2px;
    }
    .topbar-breadcrumb span { color: var(--brand); font-weight: 600; }
    .topbar-actions { display: flex; gap: 10px; align-items: center; }
    .avatar {
      width: 36px; height: 36px; border-radius: 50%;
      background: var(--brand-light); color: var(--brand);
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: .85rem;
    }

    /* ‚îÄ‚îÄ CONTENT ‚îÄ‚îÄ */
    .content { padding: 32px; flex: 1; }

    /* ‚îÄ‚îÄ CARDS ‚îÄ‚îÄ */
    .card-panel {
      background: #fff;
      border-radius: var(--radius);
      border: 1px solid #e4ecf4;
      overflow: hidden;
      margin-bottom: 20px;
      box-shadow: 0 2px 12px rgba(26,60,94,.06);
    }
    .card-panel-header {
      padding: 18px 24px;
      border-bottom: 1px solid #f0f4f8;
      display: flex; align-items: center; gap: 12px;
    }
    .card-panel-icon {
      width: 36px; height: 36px; border-radius: 10px;
      background: var(--brand-light);
      display: flex; align-items: center; justify-content: center;
      color: var(--brand); font-size: 1rem;
    }
    .card-panel-title { font-weight: 700; font-size: .95rem; color: var(--brand); }
    .card-panel-sub   { font-size: .78rem; color: #8fa3ba; margin-top: 1px; }
    .card-panel-body  { padding: 24px; }

    /* ‚îÄ‚îÄ FORM CONTROLS ‚îÄ‚îÄ */
    .form-label {
      font-size: .8rem; font-weight: 600; color: #475f74;
      margin-bottom: 6px; letter-spacing: .2px;
    }
    .form-label .req { color: #e05c5c; margin-left: 2px; }
    .form-control, .form-select {
      border: 1.5px solid #dce8f0;
      border-radius: 10px;
      padding: 10px 14px;
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-size: .88rem;
      color: #1e2d3d;
      background: #fbfcfe;
      transition: border-color .2s, box-shadow .2s;
    }
    .form-control:focus, .form-select:focus {
      border-color: var(--brand);
      box-shadow: 0 0 0 3px rgba(26,60,94,.1);
      background: #fff;
      outline: none;
    }
    .form-control.is-invalid { border-color: #e05c5c; }
    .form-control::placeholder { color: #b0c2d0; }
    textarea.form-control { resize: vertical; min-height: 110px; }

    /* ‚îÄ‚îÄ INPUT WITH ICON ‚îÄ‚îÄ */
    .input-icon-wrap { position: relative; }
    .input-icon-wrap .form-control { padding-left: 40px; }
    .input-icon-wrap .bi {
      position: absolute; left: 13px; top: 50%; transform: translateY(-50%);
      color: #9fb5c8; font-size: 1rem; pointer-events: none;
    }

    /* ‚îÄ‚îÄ NUMBER SPINNERS ‚îÄ‚îÄ */
    .spinner-group {
      display: flex; align-items: center;
      border: 1.5px solid #dce8f0; border-radius: 10px;
      overflow: hidden; background: #fbfcfe;
    }
    .spinner-btn {
      width: 42px; height: 42px; border: none;
      background: var(--brand-light); color: var(--brand);
      font-size: 1.1rem; font-weight: 700; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: background .15s;
      flex-shrink: 0;
    }
    .spinner-btn:hover { background: #d6e5f3; }
    .spinner-input {
      flex: 1; border: none; text-align: center;
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-size: .95rem; font-weight: 600; color: var(--brand);
      background: transparent; outline: none;
    }

    /* ‚îÄ‚îÄ PRICE INPUT ‚îÄ‚îÄ */
    .price-wrap { position: relative; }
    .price-wrap .currency {
      position: absolute; left: 14px; top: 50%; transform: translateY(-50%);
      font-weight: 700; color: var(--brand); font-size: .95rem;
    }
    .price-wrap .form-control { padding-left: 30px; font-weight: 600; font-size: .95rem; }

    /* ‚îÄ‚îÄ IMAGE UPLOAD ‚îÄ‚îÄ */
    .upload-zone {
      border: 2px dashed #c8d9e9;
      border-radius: 12px;
      padding: 32px 20px;
      text-align: center;
      cursor: pointer;
      transition: border-color .2s, background .2s;
      background: #f8fbfe;
      position: relative;
    }
    .upload-zone:hover { border-color: var(--brand); background: var(--brand-light); }
    .upload-zone input[type=file] {
      position: absolute; inset: 0; opacity: 0; cursor: pointer;
    }
    .upload-icon {
      width: 56px; height: 56px; border-radius: 14px;
      background: var(--brand-light); color: var(--brand);
      display: flex; align-items: center; justify-content: center;
      font-size: 1.5rem; margin: 0 auto 12px;
    }
    .upload-zone p { font-size: .85rem; color: #8fa3ba; margin: 0; }
    .upload-zone strong { display: block; font-size: .9rem; color: var(--brand); margin-bottom: 4px; }

    /* URL preview */
    #urlPreview {
      display: none; margin-top: 14px;
      border-radius: 10px; overflow: hidden;
      border: 1.5px solid #dce8f0; position: relative;
    }
    #urlPreview img { width: 100%; max-height: 200px; object-fit: cover; display: block; }
    #removeImg {
      position: absolute; top: 8px; right: 8px;
      background: rgba(0,0,0,.55); border: none;
      color: #fff; border-radius: 6px; width: 28px; height: 28px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; font-size: .85rem;
    }

    /* ‚îÄ‚îÄ BADGE CHIPS ‚îÄ‚îÄ */
    .badge-options { display: flex; flex-wrap: wrap; gap: 8px; }
    .badge-chip {
      padding: 6px 16px; border-radius: 20px; font-size: .8rem; font-weight: 600;
      border: 1.5px solid #dce8f0; cursor: pointer;
      background: #f8fbfe; color: #475f74;
      transition: all .18s; user-select: none;
    }
    .badge-chip:hover  { border-color: var(--brand); color: var(--brand); }
    .badge-chip.active { background: var(--brand); border-color: var(--brand); color: #fff; }
    .badge-chip.accent.active { background: var(--accent); border-color: var(--accent); color: #fff; }
    .badge-chip.green.active  { background: #198754; border-color: #198754; color: #fff; }

    /* ‚îÄ‚îÄ STATUS TOGGLE ‚îÄ‚îÄ */
    .toggle-wrap {
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px 20px; border-radius: 12px;
      border: 1.5px solid #dce8f0; background: #fbfcfe;
    }
    .toggle-label { font-size: .88rem; font-weight: 600; color: #475f74; }
    .toggle-sub   { font-size: .75rem; color: #9fb5c8; margin-top: 2px; }
    .form-switch .form-check-input {
      width: 48px; height: 26px; cursor: pointer;
      background-color: #c8d9e9;
    }
    .form-switch .form-check-input:checked { background-color: var(--success); border-color: var(--success); }
    .form-switch .form-check-input:focus { box-shadow: none; }

    /* ‚îÄ‚îÄ SUMMARY CARD ‚îÄ‚îÄ */
    .summary-card {
      background: linear-gradient(135deg, var(--brand) 0%, #0f2540 100%);
      border-radius: var(--radius); color: #fff; padding: 24px;
      margin-bottom: 20px; position: sticky; top: 80px;
    }
    .summary-card h6 { font-size: .78rem; letter-spacing: 1px; text-transform: uppercase; color: rgba(255,255,255,.5); margin-bottom: 16px; }
    .summary-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .summary-row .lbl { font-size: .82rem; color: rgba(255,255,255,.6); }
    .summary-row .val { font-size: .88rem; font-weight: 600; color: #fff; }
    .summary-divider { border-top: 1px solid rgba(255,255,255,.12); margin: 14px 0; }
    .summary-price { font-size: 1.6rem; font-weight: 700; color: var(--accent); }

    .preview-img-wrap {
      border-radius: 10px; overflow: hidden; margin-bottom: 16px;
      height: 130px; background: rgba(255,255,255,.08);
      display: flex; align-items: center; justify-content: center;
    }
    .preview-img-wrap img { width: 100%; height: 100%; object-fit: cover; }
    .preview-img-wrap span { color: rgba(255,255,255,.3); font-size: .82rem; }

    /* ‚îÄ‚îÄ BUTTONS ‚îÄ‚îÄ */
    .btn-brand {
      background: var(--brand); color: #fff; border: none;
      border-radius: 10px; padding: 12px 28px;
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-weight: 700; font-size: .9rem; cursor: pointer;
      transition: background .18s, transform .12s;
      display: inline-flex; align-items: center; gap: 8px;
    }
    .btn-brand:hover { background: #152f4a; transform: translateY(-1px); }

    .btn-accent {
      background: var(--accent); color: #fff; border: none;
      border-radius: 10px; padding: 12px 28px;
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-weight: 700; font-size: .9rem; cursor: pointer;
      transition: background .18s, transform .12s;
      display: inline-flex; align-items: center; gap: 8px;
    }
    .btn-accent:hover { background: #cf8d30; transform: translateY(-1px); }

    .btn-outline-brand {
      background: transparent; color: var(--brand);
      border: 1.5px solid #c8d9e9;
      border-radius: 10px; padding: 11px 20px;
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-weight: 600; font-size: .88rem; cursor: pointer;
      transition: all .18s;
      display: inline-flex; align-items: center; gap: 8px;
    }
    .btn-outline-brand:hover { background: var(--brand-light); border-color: var(--brand); }

    /* ‚îÄ‚îÄ STEP INDICATOR ‚îÄ‚îÄ */
    .step-indicator {
      display: flex; gap: 0; margin-bottom: 28px;
      background: #fff; border-radius: var(--radius);
      border: 1px solid #e4ecf4; overflow: hidden;
      box-shadow: 0 2px 8px rgba(26,60,94,.05);
    }
    .step-item {
      flex: 1; padding: 14px 16px;
      display: flex; align-items: center; gap: 10px;
      border-right: 1px solid #e4ecf4; position: relative;
    }
    .step-item:last-child { border-right: none; }
    .step-num {
      width: 28px; height: 28px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: .78rem; font-weight: 700; flex-shrink: 0;
      background: #e4ecf4; color: #8fa3ba;
    }
    .step-item.done .step-num  { background: var(--success); color: #fff; }
    .step-item.active .step-num { background: var(--brand); color: #fff; }
    .step-item.active::after {
      content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 3px;
      background: var(--brand);
    }
    .step-text { font-size: .8rem; font-weight: 600; color: #8fa3ba; }
    .step-item.active .step-text { color: var(--brand); }
    .step-item.done  .step-text  { color: var(--success); }

    /* ‚îÄ‚îÄ HELPER TEXT ‚îÄ‚îÄ */
    .form-hint { font-size: .75rem; color: #9fb5c8; margin-top: 5px; }

    /* ‚îÄ‚îÄ CHAR COUNTER ‚îÄ‚îÄ */
    .char-counter { font-size: .72rem; color: #b0c2d0; text-align: right; margin-top: 4px; }

    @media (max-width: 992px) {
      .sidebar { display: none; }
      .main-wrap { margin-left: 0; }
      .content { padding: 20px; }
    }
    @media (max-width: 576px) {
      .topbar { padding: 12px 16px; }
      .content { padding: 12px; }
    }
  </style>
</head>
<body>

<!-- ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ -->
<aside class="sidebar">
  <div class="sidebar-logo">
    <span>Tur<em>Panel</em></span>
  </div>
  <nav class="sidebar-nav">
    <div class="nav-label">Genel</div>
    <a class="nav-link-item" href="#"><i class="bi bi-grid-1x2"></i> Dashboard</a>
    <a class="nav-link-item active" href="#"><i class="bi bi-map"></i> Turlar</a>
    <a class="nav-link-item" href="#"><i class="bi bi-people"></i> M√º≈üteriler</a>
    <a class="nav-link-item" href="#"><i class="bi bi-calendar3"></i> Rezervasyonlar</a>
    <div class="nav-label mt-2">Y√∂netim</div>
    <a class="nav-link-item" href="#"><i class="bi bi-bar-chart"></i> Raporlar</a>
    <a class="nav-link-item" href="#"><i class="bi bi-gear"></i> Ayarlar</a>
  </nav>
  <div class="sidebar-footer">
    <i class="bi bi-shield-check me-1"></i> v2.4.1 &mdash; TurPanel
  </div>
</aside>

<!-- ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ -->
<div class="main-wrap">

  <!-- TOP BAR -->
  <header class="topbar">
    <div>
      <div class="topbar-title">Yeni Tur Olu≈ütur</div>
      <div class="topbar-breadcrumb">Turlar &rsaquo; <span>Yeni Tur</span></div>
    </div>
    <div class="topbar-actions">
      <button class="btn-outline-brand"><i class="bi bi-eye"></i> √ñnizle</button>
      <div class="avatar">AY</div>
    </div>
  </header>

  <!-- CONTENT -->
  <main class="content">

    <!-- STEP INDICATOR -->
    <div class="step-indicator">
      <div class="step-item done">
        <div class="step-num"><i class="bi bi-check"></i></div>
        <div class="step-text">Temel Bilgiler</div>
      </div>
      <div class="step-item active">
        <div class="step-num">2</div>
        <div class="step-text">Detaylar & Fiyat</div>
      </div>
      <div class="step-item">
        <div class="step-num">3</div>
        <div class="step-text">Medya</div>
      </div>
      <div class="step-item">
        <div class="step-num">4</div>
        <div class="step-text">Yayƒ±n</div>
      </div>
    </div>

    <div class="row g-4">

      <!-- ‚îÄ‚îÄ LEFT COLUMN ‚îÄ‚îÄ -->
      <div class="col-lg-8">

        <!-- 1. Temel Bilgiler -->
        <div class="card-panel">
          <div class="card-panel-header">
            <div class="card-panel-icon"><i class="bi bi-pencil-square"></i></div>
            <div>
              <div class="card-panel-title">Temel Bilgiler</div>
              <div class="card-panel-sub">Tur ba≈ülƒ±ƒüƒ± ve a√ßƒ±klamasƒ±nƒ± girin</div>
            </div>
          </div>
          <div class="card-panel-body">
            <div class="mb-4">
              <label class="form-label">Tur Ba≈ülƒ±ƒüƒ± <span class="req">*</span></label>
              <div class="input-icon-wrap">
                <i class="bi bi-type-h1"></i>
                <input type="text" class="form-control" id="titleInput"
                       placeholder="√ñrn: 5 G√ºn Kapadokya & G√∂reme Turu"
                       oninput="updateSummary()">
              </div>
              <div class="char-counter"><span id="titleCount">0</span> / 120 karakter</div>
            </div>
            <div class="mb-0">
              <label class="form-label">Tur A√ßƒ±klamasƒ± <span class="req">*</span></label>
              <textarea class="form-control" id="descInput" rows="5"
                        placeholder="Tur rotasƒ±, konaklama, ula≈üƒ±m ve dahil olan aktiviteler hakkƒ±nda detaylƒ± bilgi verin..."
                        oninput="updateCharCount()"></textarea>
              <div class="char-counter"><span id="descCount">0</span> / 1000 karakter</div>
              <p class="form-hint"><i class="bi bi-info-circle me-1"></i>En az 80 karakter √∂nerilir.</p>
            </div>
          </div>
        </div>

        <!-- 2. Tur Detaylarƒ± -->
        <div class="card-panel">
          <div class="card-panel-header">
            <div class="card-panel-icon"><i class="bi bi-sliders"></i></div>
            <div>
              <div class="card-panel-title">Tur Detaylarƒ±</div>
              <div class="card-panel-sub">S√ºre, kapasite ve fiyat bilgilerini belirleyin</div>
            </div>
          </div>
          <div class="card-panel-body">
            <div class="row g-4">

              <!-- G√ºn Sayƒ±sƒ± -->
              <div class="col-sm-4">
                <label class="form-label">Tur S√ºresi (G√ºn) <span class="req">*</span></label>
                <div class="spinner-group">
                  <button class="spinner-btn" type="button" onclick="spin('dayCount', -1)">&#8722;</button>
                  <input class="spinner-input" type="number" id="dayCount" value="5" min="1" max="365" oninput="updateSummary()">
                  <button class="spinner-btn" type="button" onclick="spin('dayCount', 1)">&#43;</button>
                </div>
                <p class="form-hint">1 ‚Äì 365 g√ºn arasƒ±</p>
              </div>

              <!-- Kapasite -->
              <div class="col-sm-4">
                <label class="form-label">Maksimum Kapasite <span class="req">*</span></label>
                <div class="spinner-group">
                  <button class="spinner-btn" type="button" onclick="spin('capacity', -1)">&#8722;</button>
                  <input class="spinner-input" type="number" id="capacity" value="20" min="1" max="500" oninput="updateSummary()">
                  <button class="spinner-btn" type="button" onclick="spin('capacity', 1)">&#43;</button>
                </div>
                <p class="form-hint">1 ‚Äì 500 ki≈üi arasƒ±</p>
              </div>

              <!-- Fiyat -->
              <div class="col-sm-4">
                <label class="form-label">Ki≈üi Ba≈üƒ± Fiyat (‚Ç∫) <span class="req">*</span></label>
                <div class="price-wrap">
                  <span class="currency">‚Ç∫</span>
                  <input type="number" class="form-control" id="priceInput"
                         placeholder="0.00" min="0" step="0.01"
                         oninput="updateSummary()">
                </div>
                <p class="form-hint">KDV dahil fiyat giriniz</p>
              </div>

            </div>
          </div>
        </div>

        <!-- 3. Kapak G√∂rseli -->
        <div class="card-panel">
          <div class="card-panel-header">
            <div class="card-panel-icon"><i class="bi bi-image"></i></div>
            <div>
              <div class="card-panel-title">Kapak G√∂rseli</div>
              <div class="card-panel-sub">URL girin veya dosya y√ºkleyin</div>
            </div>
          </div>
          <div class="card-panel-body">

            <!-- Tab: URL -->
            <div class="mb-3">
              <label class="form-label">G√∂rsel URL'si</label>
              <div class="input-icon-wrap">
                <i class="bi bi-link-45deg"></i>
                <input type="url" class="form-control" id="coverImageUrl"
                       placeholder="https://example.com/gorsel.jpg"
                       oninput="previewImage()">
              </div>
            </div>

            <!-- Preview -->
            <div id="urlPreview">
              <img id="previewImg" src="" alt="√ñn izleme">
              <button id="removeImg" type="button" onclick="removeImage()" title="Kaldƒ±r">
                <i class="bi bi-x"></i>
              </button>
            </div>

            <div class="d-flex align-items-center gap-3 my-3">
              <hr class="flex-grow-1 m-0">
              <span style="font-size:.75rem;color:#9fb5c8;white-space:nowrap">veya dosya y√ºkle</span>
              <hr class="flex-grow-1 m-0">
            </div>

            <!-- Upload -->
            <div class="upload-zone">
              <input type="file" accept="image/*" onchange="handleFileUpload(event)">
              <div class="upload-icon"><i class="bi bi-cloud-arrow-up"></i></div>
              <strong>G√∂rsel Se√ßin veya S√ºr√ºkleyin</strong>
              <p>PNG, JPG, WEBP ‚Äî Maks. 5 MB</p>
            </div>

          </div>
        </div>

        <!-- 4. Rozet & Durum -->
        <div class="card-panel">
          <div class="card-panel-header">
            <div class="card-panel-icon"><i class="bi bi-tags"></i></div>
            <div>
              <div class="card-panel-title">Rozet & Yayƒ±n Durumu</div>
              <div class="card-panel-sub">Turun etiketini ve g√∂r√ºn√ºrl√ºƒü√ºn√º belirleyin</div>
            </div>
          </div>
          <div class="card-panel-body">

            <label class="form-label mb-2">Rozet Se√ßin</label>
            <input type="hidden" id="badgeValue" value="">
            <div class="badge-options mb-4" id="badgeOptions">
              <span class="badge-chip active" data-badge="√ñne √áƒ±kan"    onclick="selectBadge(this)">üåü √ñne √áƒ±kan</span>
              <span class="badge-chip accent" data-badge="Fƒ±rsat"       onclick="selectBadge(this)">üî• Fƒ±rsat</span>
              <span class="badge-chip green"  data-badge="Yeni"         onclick="selectBadge(this)">‚ú® Yeni</span>
              <span class="badge-chip"        data-badge="√áok Satan"    onclick="selectBadge(this)">üèÜ √áok Satan</span>
              <span class="badge-chip"        data-badge="Son Kontenjan" onclick="selectBadge(this)">‚è≥ Son Kontenjan</span>
              <span class="badge-chip"        data-badge=""             onclick="selectBadge(this)">üö´ Rozet Yok</span>
            </div>

            <label class="form-label mb-2">Yayƒ±n Durumu</label>
            <div class="toggle-wrap">
              <div>
                <div class="toggle-label">Tur Yayƒ±nda</div>
                <div class="toggle-sub" id="statusSub">Tur ≈üu an aktif ve listelenebilir durumda</div>
              </div>
              <div class="form-check form-switch mb-0">
                <input class="form-check-input" type="checkbox" id="isStatus" checked
                       onchange="updateStatusLabel()">
              </div>
            </div>

          </div>
        </div>

        <!-- SUBMIT BUTTONS -->
        <div class="d-flex gap-3 flex-wrap">
          <button class="btn-accent" type="button" onclick="submitForm()">
            <i class="bi bi-check-circle"></i> Turu Olu≈ütur
          </button>
          <button class="btn-brand" type="button">
            <i class="bi bi-floppy"></i> Taslak Kaydet
          </button>
          <button class="btn-outline-brand" type="button">
            <i class="bi bi-arrow-left"></i> ƒ∞ptal
          </button>
        </div>

      </div><!-- /col-lg-8 -->

      <!-- ‚îÄ‚îÄ RIGHT COLUMN: SUMMARY ‚îÄ‚îÄ -->
      <div class="col-lg-4">

        <!-- √ñzet Kartƒ± -->
        <div class="summary-card">
          <h6>Tur √ñzeti</h6>

          <div class="preview-img-wrap" id="summaryImgWrap">
            <span id="summaryImgPlaceholder"><i class="bi bi-image" style="font-size:1.4rem;display:block;margin-bottom:4px"></i>Kapak g√∂rseli</span>
            <img id="summaryImg" src="" alt="" style="display:none">
          </div>

          <div class="summary-row">
            <span class="lbl">Ba≈ülƒ±k</span>
            <span class="val" id="sumTitle" style="max-width:55%;text-align:right;font-size:.8rem">‚Äî</span>
          </div>
          <div class="summary-row">
            <span class="lbl">S√ºre</span>
            <span class="val" id="sumDay">5 G√ºn</span>
          </div>
          <div class="summary-row">
            <span class="lbl">Kapasite</span>
            <span class="val" id="sumCapacity">20 Ki≈üi</span>
          </div>
          <div class="summary-row">
            <span class="lbl">Rozet</span>
            <span class="val" id="sumBadge">üåü √ñne √áƒ±kan</span>
          </div>
          <div class="summary-row">
            <span class="lbl">Durum</span>
            <span class="val" id="sumStatus" style="color:#4ade80">‚óè Yayƒ±nda</span>
          </div>
          <div class="summary-divider"></div>
          <div class="summary-row">
            <span class="lbl" style="font-size:.9rem">Ki≈üi Ba≈üƒ± Fiyat</span>
            <span class="summary-price" id="sumPrice">‚Äî</span>
          </div>
        </div>

        <!-- ƒ∞pu√ßlarƒ± -->
        <div class="card-panel">
          <div class="card-panel-header">
            <div class="card-panel-icon" style="background:#fdf3e3;color:var(--accent)"><i class="bi bi-lightbulb"></i></div>
            <div>
              <div class="card-panel-title">ƒ∞pu√ßlarƒ±</div>
            </div>
          </div>
          <div class="card-panel-body pt-2">
            <ul class="mb-0" style="padding-left:18px;font-size:.82rem;color:#475f74;line-height:1.8">
              <li>Ba≈ülƒ±k en az <strong>20 karakter</strong> olmalƒ±dƒ±r.</li>
              <li>Kapak g√∂rseli <strong>16:9 oran</strong>ƒ±nda olmalƒ±dƒ±r.</li>
              <li>A√ßƒ±klama SEO i√ßin √∂nemlidir, detaylƒ± yazƒ±n.</li>
              <li>Fiyatƒ± KDV dahil, <strong>‚Ç∫ cinsinden</strong> girin.</li>
              <li>Yayƒ±nlamadan √∂nce √∂nizleme yapƒ±n.</li>
            </ul>
          </div>
        </div>

        <!-- Zorunlu Alan Durumu -->
        <div class="card-panel">
          <div class="card-panel-header">
            <div class="card-panel-icon" style="background:#edfbf1;color:#198754"><i class="bi bi-check2-all"></i></div>
            <div>
              <div class="card-panel-title">Zorunlu Alanlar</div>
            </div>
          </div>
          <div class="card-panel-body pt-2">
            <div id="fieldChecks" style="font-size:.82rem;display:flex;flex-direction:column;gap:6px"></div>
          </div>
        </div>

      </div><!-- /col-lg-4 -->

    </div><!-- /row -->
  </main>
</div><!-- /main-wrap -->

<!-- SUCCESS TOAST -->
<div id="toast" style="
  position:fixed;bottom:28px;right:28px;z-index:9999;
  background:#1a3c5e;color:#fff;padding:14px 22px;border-radius:12px;
  display:none;align-items:center;gap:10px;
  box-shadow:0 8px 32px rgba(0,0,0,.2);font-size:.88rem;font-weight:600;
  animation: slideUp .3s ease;">
  <i class="bi bi-check-circle-fill" style="color:#4ade80;font-size:1.1rem"></i>
  <span id="toastMsg">ƒ∞≈ülem ba≈üarƒ±lƒ±!</span>
</div>

<style>
@keyframes slideUp { from { transform: translateY(20px); opacity:0; } to { transform: translateY(0); opacity:1; } }
</style>

<script>
  // ‚îÄ‚îÄ Spinner ‚îÄ‚îÄ
  function spin(id, delta) {
    const el = document.getElementById(id);
    const min = parseInt(el.min) || 1;
    const max = parseInt(el.max) || 9999;
    el.value = Math.min(max, Math.max(min, parseInt(el.value || 0) + delta));
    updateSummary();
  }

  // ‚îÄ‚îÄ Char counters ‚îÄ‚îÄ
  document.getElementById('titleInput').addEventListener('input', function () {
    document.getElementById('titleCount').textContent = this.value.length;
    updateSummary();
  });
  function updateCharCount() {
    const v = document.getElementById('descInput').value.length;
    document.getElementById('descCount').textContent = v;
  }

  // ‚îÄ‚îÄ Image preview ‚îÄ‚îÄ
  function previewImage() {
    const url = document.getElementById('coverImageUrl').value.trim();
    const wrap = document.getElementById('urlPreview');
    const img  = document.getElementById('previewImg');
    if (url) {
      img.src = url;
      wrap.style.display = 'block';
      updateSummaryImage(url);
    } else {
      wrap.style.display = 'none';
      updateSummaryImage('');
    }
  }
  function removeImage() {
    document.getElementById('coverImageUrl').value = '';
    document.getElementById('urlPreview').style.display = 'none';
    updateSummaryImage('');
  }
  function handleFileUpload(e) {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = ev => {
      const wrap = document.getElementById('urlPreview');
      document.getElementById('previewImg').src = ev.target.result;
      wrap.style.display = 'block';
      updateSummaryImage(ev.target.result);
    };
    reader.readAsDataURL(file);
  }
  function updateSummaryImage(src) {
    const si = document.getElementById('summaryImg');
    const ph = document.getElementById('summaryImgPlaceholder');
    if (src) { si.src = src; si.style.display = 'block'; ph.style.display = 'none'; }
    else      { si.style.display = 'none'; ph.style.display = 'block'; }
  }

  // ‚îÄ‚îÄ Badge select ‚îÄ‚îÄ
  document.getElementById('badgeOptions').querySelectorAll('.badge-chip')[0].classList.add('active');
  document.getElementById('badgeValue').value = '√ñne √áƒ±kan';

  function selectBadge(el) {
    document.querySelectorAll('.badge-chip').forEach(c => c.classList.remove('active'));
    el.classList.add('active');
    document.getElementById('badgeValue').value = el.dataset.badge;
    updateSummary();
  }

  // ‚îÄ‚îÄ Status ‚îÄ‚îÄ
  function updateStatusLabel() {
    const on = document.getElementById('isStatus').checked;
    document.getElementById('statusSub').textContent = on
      ? 'Tur ≈üu an aktif ve listelenebilir durumda'
      : 'Tur pasif ‚Äì kullanƒ±cƒ±lara g√∂r√ºnmez';
    document.getElementById('sumStatus').textContent = on ? '‚óè Yayƒ±nda' : '‚óã Pasif';
    document.getElementById('sumStatus').style.color  = on ? '#4ade80' : '#f87171';
    updateFieldChecks();
  }

  // ‚îÄ‚îÄ Summary update ‚îÄ‚îÄ
  function updateSummary() {
    const title    = document.getElementById('titleInput').value || '‚Äî';
    const day      = document.getElementById('dayCount').value || 0;
    const capacity = document.getElementById('capacity').value || 0;
    const price    = parseFloat(document.getElementById('priceInput').value);
    const badge    = document.getElementById('badgeValue').value;

    document.getElementById('sumTitle').textContent    = title.length > 28 ? title.slice(0, 28) + '‚Ä¶' : title;
    document.getElementById('sumDay').textContent      = day + ' G√ºn';
    document.getElementById('sumCapacity').textContent = capacity + ' Ki≈üi';
    document.getElementById('sumBadge').textContent    = badge || 'Yok';
    document.getElementById('sumPrice').textContent    = isNaN(price) ? '‚Äî' : price.toLocaleString('tr-TR', { style:'currency', currency:'TRY' });
    updateFieldChecks();
  }

  // ‚îÄ‚îÄ Field checks ‚îÄ‚îÄ
  function updateFieldChecks() {
    const fields = [
      { label:'Ba≈ülƒ±k',       ok: document.getElementById('titleInput').value.length > 3 },
      { label:'A√ßƒ±klama',     ok: document.getElementById('descInput').value.length > 10 },
      { label:'Kapak G√∂rseli',ok: document.getElementById('coverImageUrl').value.length > 5 || document.getElementById('previewImg').src.startsWith('data') },
      { label:'G√ºn Sayƒ±sƒ±',   ok: parseInt(document.getElementById('dayCount').value) > 0 },
      { label:'Kapasite',     ok: parseInt(document.getElementById('capacity').value) > 0 },
      { label:'Fiyat',        ok: parseFloat(document.getElementById('priceInput').value) > 0 },
    ];
    const wrap = document.getElementById('fieldChecks');
    wrap.innerHTML = fields.map(f => `
      <div style="display:flex;align-items:center;gap:8px;color:${f.ok ? '#198754' : '#8fa3ba'}">
        <i class="bi ${f.ok ? 'bi-check-circle-fill' : 'bi-circle'}" style="font-size:.95rem"></i>
        ${f.label}
      </div>`).join('');
  }

  // ‚îÄ‚îÄ Submit ‚îÄ‚îÄ
  function submitForm() {
    const dto = {
      title:         document.getElementById('titleInput').value,
      description:   document.getElementById('descInput').value,
      coverImageUrl: document.getElementById('coverImageUrl').value,
      badge:         document.getElementById('badgeValue').value,
      dayCount:      parseInt(document.getElementById('dayCount').value),
      capacity:      parseInt(document.getElementById('capacity').value),
      price:         parseFloat(document.getElementById('priceInput').value),
      isStatus:      document.getElementById('isStatus').checked,
    };

    if (!dto.title || !dto.description || dto.price <= 0) {
      showToast('‚ö†Ô∏è L√ºtfen zorunlu alanlarƒ± doldurun.');
      return;
    }
    console.log('CreateTourDto ‚Üí', dto);
    showToast('‚úÖ Tur ba≈üarƒ±yla olu≈üturuldu!');
  }

  function showToast(msg) {
    const t = document.getElementById('toast');
    document.getElementById('toastMsg').textContent = msg;
    t.style.display = 'flex';
    setTimeout(() => { t.style.display = 'none'; }, 3500);
  }

  // Init
  updateSummary();
  updateFieldChecks();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
